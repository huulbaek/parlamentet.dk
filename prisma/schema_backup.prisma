generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Quiz {
  id Int        @id @default(autoincrement())
  createdAt     DateTime @default(now())
  quizResults   QuizResults[]
}

model QuizResults {
  id Int        @id @default(autoincrement())
  initials      String
  color         String?
  logo          String?
  agreements    Int
  disagreements Int
  quizId        Int
  quiz          Quiz @relation(fields: [quizId], references: [id])
  createdAt     DateTime @default(now())
}

model Question {
  id          Int     @id @default(autoincrement())
  title       String
  ftid        String
  samling     String
  answers     Answers[]
  @@unique([ftid, samling])
}

model Answers {
  id          Int  @id @default(autoincrement())
  vote        String
  questionId  Int
  question    Question @relation(fields: [questionId], references: [id])
}

model Sag {
  id                  Int      @id
  typeid              Int
  kategoriid          Int? 
  statusid            Int
  titel               String? 
  titelkort           String?
  offentlighedskode   String?
  nummer              String?
  nummerprefix        String?
  nummernumerisk      String?
  nummerpostfix       String?
  resume              String?
  afstemningskonklusion String?
  periodeid           Int
  afgoerelsesresultatkode String?
  baggrundsmateriale  String?
  opdateringsdato     DateTime
  statsbudgetsag      Boolean
  begrundelse         String?
  paragrafnummer      Int?
  paragraf            String?
  afgoerelsesdato      DateTime?
  afgorelse           String?
  lovnummer           String?
  lovnummerdato       DateTime?
  retsinformationsurl String?
  fremsatundersagid   Int?
  deltundersagid      Int?
  afstemninger Afstemning[]
}

model Afstemning {
  id Int @id
  nummer Int 
  konklusion String?
  vedtaget Boolean
  kommentar String?
  modeid Int
  sagstrinid Int?
  opdateringsdato DateTime?
  sagId Int 
  sag Sag @relation(fields: [sagId], references: [id])
}